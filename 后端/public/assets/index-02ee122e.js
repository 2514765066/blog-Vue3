import{_ as y,i as m,l as r,d as i,e as d,f as o,t as B,G as S,n as I,E as k,p as b,h as M,v as N,r as $,g as T,w as V,T as D,H as R,F as f,m as g,q,I as C,k as v,$ as w}from"./index-32c2b363.js";const E="/assets/message-6742bf6d.png";const F=e=>(b("data-v-725cdcce"),e=e(),M(),e),H=F(()=>o("i",{class:"fa-regular fa-face-smile mr-1"},null,-1)),O={class:"mr-1"},j={__name:"Barrage",props:{info:Object,isNew:Boolean,length:Number},setup(e){const a=e,_=Math.floor((window.innerHeight-60)/45),t=Math.floor(Math.random()*_)*45+60+"px";let l=m(Math.random()*10+4+"s"),n=m(!1),c=Math.random()*2e4;return a.length>100&&(c=Math.random()*2e4*(a.length%100)),a.isNew&&(l.value="5s",c="0s"),setTimeout(()=>{n.value=!0},c),(u,s)=>r(n)?(i(),d("article",{key:0,class:"v-n-c p-a p-1",id:"barrage",onAnimationend:s[0]||(s[0]=h=>S(n)?n.value=!1:n=!1),style:I({"animation-duration":r(l),top:t})},[H,o("span",O,"游客："+B(a.info.msg),1)],36)):k("",!0)}},x=y(j,[["__scopeId","data-v-725cdcce"]]);const p=e=>(b("data-v-78d68f27"),e=e(),M(),e),z={id:"message",class:"wh-100v p-r h v-c-c o-h"},A=p(()=>o("img",{src:E,class:"c-img wh-100 p-a"},null,-1)),G=p(()=>o("h1",{class:"mb-4"},"留言板",-1)),L=["onSubmit"],U=p(()=>o("button",{class:"ml-2"},"发送",-1)),J={__name:"index",setup(e){const a=N(),_=a.messages;let t=m(""),l=$([]);function n(){if(t.value.trim()==""){w.emit("tipShow",{title:"输入内容不合法",type:!1});return}a.postData({msg:t.value})&&(w.emit("tipShow",{title:"发送成功"}),l.push(t.value),t.value="")}return(c,u)=>(i(),d("main",z,[A,G,o("form",{class:"d-f",onSubmit:R(n,["prevent"])},[T(D,{name:"animate__animated animate__bounce","enter-active-class":"animate__bounceInRight","leave-active-class":"animate__bounceOutRight",appear:""},{default:V(()=>[q(o("input",{type:"text",placeholder:"说点什么吧",maxlength:"20","onUpdate:modelValue":u[0]||(u[0]=s=>S(t)?t.value=s:t=s),required:""},null,512),[[C,r(t)]])]),_:1}),U],40,L),(i(!0),d(f,null,g(r(_),s=>(i(),v(x,{info:s,key:s.id,length:r(_).length},null,8,["info","length"]))),128)),(i(!0),d(f,null,g(r(l),(s,h)=>(i(),v(x,{info:{msg:s},key:-h,isNew:!0},null,8,["info"]))),128))]))}},P=y(J,[["__scopeId","data-v-78d68f27"]]);export{P as default};
